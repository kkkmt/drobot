CREATE TABLE MAINTABLE
(
    ID_MAIN     NUMBER NOT NULL PRIMARY KEY,
    SURTEACH    VARCHAR2(4000 BYTE),
    NAMETEACH   VARCHAR2(4000 BYTE),
    MIDLTEACH   VARCHAR2(4000 BYTE),
    MNUM        NUMBER,
    MNAME       VARCHAR2(4000 BYTE),
    MMANESUB    VARCHAR2(4000 BYTE),
    COURSE      NUMBER,
    GROUPE      VARCHAR2(4 CHAR),
    PROGPLAN    VARCHAR2(20 CHAR),
    CONTFORM    VARCHAR2(20 CHAR),
    DATECREATE  DATE DEFAULT SYSDATE NOT NULL
);


CREATE TABLE SECTIONS
(
    ID_SEC      NUMBER NOT NULL PRIMARY KEY,
    ID_MAIN     NUMBER NOT NULL,
    SNUM        NUMBER,
    SNAME       VARCHAR2(4000 BYTE),
    
    CONSTRAINT MAIN_ID 
        FOREIGN KEY(ID_MAIN)
        REFERENCES MAINTABLE(ID_MAIN)
);



CREATE TABLE TYPEOCCUP
(
    ID_TYPE     NUMBER NOT NULL PRIMARY KEY,
    TNAME       VARCHAR2(4000 BYTE)
);


CREATE TABLE TASKSWORKS
(
    ID_TASK     NUMBER NOT NULL PRIMARY KEY,
    TWNAME      VARCHAR2(4000 BYTE)
);


CREATE TABLE TOPICLAB
(
    ID_TOPIC        NUMBER NOT NULL PRIMARY KEY,
    ID_SEC          NUMBER NOT NULL,
    ID_MAIN         NUMBER NOT NULL,
    TOPIC           NUMBER,
    TNAME           VARCHAR2(4000 BYTE),
    CONHOURSE       NUMBER(2),
    NCONHOURSE      NUMBER(2),
    TMONTH          VARCHAR2(20 CHAR),
    ID_TYPE         NUMBER NOT NULL,
    VISAIDS         NUMBER,
    ID_TASK         NUMBER NOT NULL,
    
    CONSTRAINT MAIN_ID_1 
        FOREIGN KEY(ID_MAIN)
        REFERENCES MAINTABLE(ID_MAIN),
    
    CONSTRAINT SEC_ID 
        FOREIGN KEY(ID_SEC)
        REFERENCES SECTIONS(ID_SEC),
    
    CONSTRAINT TYPE_ID 
        FOREIGN KEY(ID_TYPE)
        REFERENCES TYPEOCCUP(ID_TYPE),
    
    CONSTRAINT TASK_ID 
        FOREIGN KEY(ID_TASK)
        REFERENCES TASKSWORKS(ID_TASK)            
);

--  Для проверки правильности написания процедуры ( курсора )
CREATE TABLE SQLTEST
(
    CREATEDATE  DATE DEFAULT SYSDATE NOT NULL,
    TEXT        VARCHAR2(4000 BYTE)
);